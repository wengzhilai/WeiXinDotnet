<h1 id="title" class="title">{{i18n+'.Title'}}</h1>
<p class="sub-title">{{i18n+'.LoginMsg'}}</p>
<!-- <p>{{ promise | async }}1111</p> -->


<form (ngSubmit)="submit()" [formGroup]="userForm" aria-labelledby="title">

  <div class="form-control-group">
    <label class="label" for="input-email">{{i18n+'.LoginName'}}:</label>
    <input nbInput fullWidth formControlName="loginName"
    [status]="userForm.get('loginName').dirty ? (userForm.get('loginName').invalid  ? 'danger' : 'success') : ''"
    >
    <ng-container *ngIf="userForm.get('loginName').invalid">
      <p class="error-message">
        {{GetErrMsg(this.userForm.get("loginName"))}}
      </p>
    </ng-container>
  </div>

  <div class="form-control-group">
    <label class="label" for="input-password">{{i18n+'.LoginPwd'}}:</label>
    <input nbInput fullWidth formControlName="password" type="password" id="input-password" placeholder="Password">
    <ng-container *ngIf="userForm.get('password').invalid">
      <p class="error-message">
        {{GetErrMsg(this.userForm.get("password"))}}
      </p>
    </ng-container>
  </div>

  <div class="form-control-group accept-group">
    <nb-checkbox name="rememberMe" [(ngModel)]="rememberMe" *ngIf="rememberMe">{{i18n+'.RememberMe'}}
    </nb-checkbox>
    <!-- <a class="forgot-password" routerLink="../request-password">Forgot Password?</a> -->
  </div>

  <button nbButton fullWidth status="success" [class.btn-pulse]="submitted">
    {{'public.Submit'}}
  </button>
</form>